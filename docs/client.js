document.addEventListener("DOMContentLoaded",()=>{const e={fr:{title:"Solutions du livre 1 Sudoku",h1:"Phare Obscur Sudoku",label_level:"Difficulté :",opt_e:"Facile (E)",opt_m:"Moyen (M)",opt_h:"Difficile (H)",opt_l:"Légendaire (L)",label_num:"Numéro :",btn_show:"Afficher",link_download:"Télécharger les solutions (PDF)",copyright:"© 2025 Phare Obscur Éditions",err_loading:"Erreur lors du chargement des données.",err_not_loaded:"Les données ne sont pas encore chargées.",err_enter_num:"Veuillez entrer un numéro.",err_not_found:"Solution non trouvée pour",msg_solution_found:"Solution trouvée !"},en:{title:"Sudoku Book 1 Solutions",h1:"Phare Obscur Sudoku",label_level:"Difficulty:",opt_e:"Easy (E)",opt_m:"Medium (M)",opt_h:"Hard (H)",opt_l:"Legendary (L)",label_num:"Number:",btn_show:"Show",link_download:"Download solutions (PDF)",copyright:"© 2025 Phare Obscur Editions",err_loading:"Error loading data.",err_not_loaded:"Data not loaded yet.",err_enter_num:"Please enter a number.",err_not_found:"Solution not found for",msg_solution_found:"Solution found!"}}[(navigator.language||navigator.userLanguage).startsWith("fr")?"fr":"en"];document.title=e.title,document.querySelectorAll("[data-i18n]").forEach(t=>{const n=t.getAttribute("data-i18n");e[n]&&(t.textContent=e[n])});const t=document.getElementById("go"),n=document.getElementById("level"),o=document.getElementById("num"),r=document.getElementById("msg"),d=document.getElementById("sudoku");let l=null;fetch("solutions.json").then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{l=e,console.log("Solutions loaded")}).catch(t=>{console.error("Error loading solutions:",t),r.textContent=e.err_loading}),[o,n].forEach(e=>{e.addEventListener("keydown",e=>{"Enter"===e.key&&t.click()})}),t.addEventListener("click",()=>{if(!l)return r.textContent=e.err_not_loaded,void d.classList.add("hidden");const t=n.value,u=o.value.trim();if(!u)return r.textContent=e.err_enter_num,void d.classList.add("hidden");const a=`${t}${u.padStart(3,"0")}`,i=l[a];if(!i)return r.textContent=`${e.err_not_found} ${a}`,void d.classList.add("hidden");r.textContent="",function(e){d.innerHTML="",d.classList.remove("hidden");const t=document.createElement("table");for(let n=1;n<=9;n++){const o=document.createElement("tr");for(let t=1;t<=9;t++){const r=document.createElement("td");r.textContent=e[`r${n}c${t}`],o.appendChild(r)}t.appendChild(o)}d.appendChild(t)}(i)})});
